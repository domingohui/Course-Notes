<!DOCTYPE html>
<html>
  <head>
    <title>CS 246 :: Functions</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, shrink-to-fit=no, initial-scale=1">
    <meta name="Course Notes" content="">
    <meta name="Raphael" content="">

    <!-- Bootstrap Core CSS -->
    <link href="../../css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="../../css/simple-sidebar.css" rel="stylesheet">
    <link href="../css/styles.css" rel="stylesheet">
    <script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?lang=cpp&lang=bsh&skin=sunburst"></script>
  </head>
  <body>
    <div id="wrapper">
      <!-- Sidebar -->
      <div id="sidebar-wrapper">
        <ul class="sidebar-nav">
          <li class="sidebar-brand">
              <a href="../../index.html">UW Couse Notes</a>
          </li>
          <li><a href="./shell.html">The Shell</a></li>
          <li><a href="#">C++</a></li>
          <li><a href="#">Unix tools</a></li>
          <li><a href="#">Software Engineering</a></li>
        </ul>
      </div>
      <!-- /#sidebar-wrapper -->

      <!-- Page Content -->
      <div id="page-content-wrapper">
          <div class="container-fluid">
            <div class="row">
              <div class="col-lg-12">
                <a href="#menu-toggle" class="btn btn-default" id="menu-toggle">Toggle Menu</a>
                <h1 id="title_text">Functions</h1><br />

                <!-- Table of Contents -->
                <div id="contents">
                  <h1>Table of Contents</h1>
                  <ol id="nav">
                    <li><a href="#1">Predefined Functions</a></li>
                    <li><a href="#2">Random Number Generator</a></li>
                    <li><a href="#3">Programmer-Defined Functions</a></li>
                    <li><a href="#4">Scope</a></li>
                    <li><a href="#5">Parameter vs. Argument</a></li>
                    <li><a href="#6">Parameters</a></li>
                    <li><a href="#7">Overloading</a></li>
                    <li><a href="#8">Assert Macro</a></li>
                  </ol>
                </div>
                <!--Table of Contents -->

                Functions are the building blocks of programs. The 3 advantages of functions are:
                <ol>
                  <li>Divide & Conquer</li>
                  <li>Readability</li>
                  <li>Re-usability</li>
                </ol>
                There are 2 types of functions:
                <ol>
                  <li>
                    Returns a value - function returns a value (can be used as a value).  Must include a <code class="prettyprint lang-cpp">return</code> statement
                  </li>
                  <li>
                    Does not return a value (void) -
                    just performs an action; do not return a value. e.g. <code class="prettyprint">exit</code> statement.
                  </li>
                </ol>
                <pre class="prettyprint lang-cpp">
Return_Type Function_Name (Parameter_1, Parameter_2, ...) {
  Statements
  return Return_Value; // return statement
}</pre>

                <h2 id="1">Predefined Functions</h2>
                C++ comes with in-built libraries of functions for us to use.  In order to use them, we must <code>#include</code> the appropriate libarary.
                Here are some math functions:
                <ul>
                  <li>&lt;cstdlib>
                    <ul>
                      <li><code>abs(int i)</code> - returns absolute value of int</li>
                      <li><code>labs(long i)</code> - returns absolute value of long int</li>
                      <li><code>rand()</code> - returns a pseudo-random number in the range between 0 and <code>RAND_MAX</code>.  More details in the <a class="link" href="#2">Random Number Generator</a> section below.</li>
                    </ul>
                  </li>
                  <li>&lt;cmath>
                    <ul>
                      <li><code>fabs(float i)</code> - returns absolute value of float</li>
                      <li><code>pow(double x, double y)</code> - returns <code>x^y</code></li>
                    </ul>
                  </li>
                </ul>

                <h2 id="2">Random Number Generator</h2>
                To generate a random number, we can use the <code class="prettyprint">rand()</code> function from the <code>&lt;cstdlib></code> library.  <code class="prettyprint">rand()</code> does not take any arguments and returns a value between 0 and <code>RAND_MAX</code> (a library-dependent constant defined in <code>&lt;cstdlib></code>).  To use this to our intended implementation, we perform:
                <ol>
                  <li>Scaling - <code class="prettyprint">rand() % Scale</code> returns a value in the range 0 to <code>Scale - 1</code></li>
                  <li>Shifting - <code class="prettyprint">rand() % Scale + Shift</code> returns a value in the range <code>Shift</code> to <code>Scale + Shift - 1</code></li>
                </ol>
                <h3>Random Number Seed</h3>
                Seeds can be used to alter the sequence of pseudo-random numbers.  We use the function <code class="prettyprint">srand(int seed_value)</code> for this.<br />
                <ul>
                  <li>
                    <code class="prettyprint">srand(1)</code> performs the same action as <code class="prettyprint">rand()</code>.
                  </li>
                  <li>
                    In order to produce random-like numbers, we use runtime values such as <code class="prettyprint">time()</code> provided in the <code>&lt;ctime></code> library. e.g. <pre class="prettyprint lang-cpp">
#include &lt;cstdlib.h>
#include &lt;time.h>
srand (time(NULL));
printf ("Random number: %d\n", rand() % 100 + 1); // random number in range 1 to 100
</pre>
                  </li>
                </ul>

                <h2 id="3">Programmer-Defined Functions</h2>
                There are 3 components to using functions:
                <ol>
                  <li>Function Declaration - Provides information to compiler to properly interpret function calls.</li>
                  <li>Function Definition - Provides implmentation of function.</li>
                  <li>Function Call - Transfers control flow to function.</li>
                </ol>

                <h3>Function Declaration</h3>
                Also known as the <b>function prototype</b>.  It is placed <i>before</i> any calls, most commonly in header files.  It provides the compiler with information on how to properly interpret calls.  The compiler only needs to know:
                <ul>
                  <li>Return type</li>
                  <li>Function name</li>
                  <li>Parameter list - formal parameter names not needed but should be left in for readability</li>
                </ul>
                Syntax: <code class="prettyprint">Return_Type Function_Name (Parameter_List);</code>

                <h3>Function Definition</h3>
                This is the implementation of the function.  Statements are placed within the enclosing braces.  The return statement sends data back to caller.  At this point (or end of block for void functions) transfers the control flow back to the point of function call.  <br />
                Syntax: <pre class="prettyprint">Return_Type Function_Name (Parameter_List) {
  Statements
  return Return_Type;
}</pre>

                <h3>Function Call</h3>
                Calls the specified function.<br />
                Syntax: <code class="prettyprint">Variable = Function_Name(Argument_List);</code>

                <h2 id="4">Scope</h2>
                Functions should be self-contained and not interfere with other functions.  There are times when a function might have a same variable name as one outside of the function.  The scope of the variables determine which one is being used.
                There are 2 types of variable scopes:
                <ol>
                  <li>Local scope</li>
                  <li>Global scope</li>
                  <li>Block scope</li>
                </ol>
                <h3>Local Scope</h3>
                Local variables are declared inside the body of a function and are available only within that function's scope.  This allows for variables with the same names being declared in different functions.  Advantages of local variables:
                <ul>
                  <li>maintains control over data</li>
                  <li>used on a need-to-know basis</li>
                  <li>functions should declare what local data is needed</li>
                </ul>

                <h3>Global Scope</h3>
                Global variables are declared outside of the function body and is accessible to all functions in that file.  This is commonly used for constants. Global variables are seldom used as it lacks control over their usage.

                <h3>Block Scope</h3>
                Variables are declared inside a compound (block) statement.  All function definitions are blocks, which provides local "function-scope".  e.g. loop blocks<br />
                Block scopes can also be nested.  Variables have their scope limited to the innermost enclosing braces.



                <h2 id="5">Parameter vs Argument</h2>
                <ul>
                  <li>
                    Formal Parameters
                    <ul>
                      <li>listed in function declaration</li>
                      <li>used in body of function</li>
                      <li>placeholder that is filled in with something when the function is called</li>
                    </ul>
                  </li>
                  <li>
                    Argument
                    <ul>
                      <li>used to fill in a formal parameter</li>
                      <li>listed in parenthesis in function call</li>
                      <li>plugged in to formal parameters when function is invoked</li>
                    </ul>
                  </li>
                </ul>

                <h2 id="6">Parameters</h2>
                There are 2 methods of passing arguments as parameters:
                <ol>
                  <li>
                    Call-by-value: copy of value is passed
                    <ul>
                      <li>local variable</li>
                      <li>only value of arg is passed in</li>
                      <li>if modified, only local copy is mutated</li>
                    </ul>
                  </li>
                  <li>
                    Call-by-reference: address of actual argument is passed
                    <ul>
                      <li>provides access to actual argument</li>
                      <li>data provided by argument can be modified by the function</li>
                      <li>Reference is specified by the ampersand <code>&</code> after the data type: <code class="prettyprint">datatype& var</code></li>
                      <li>Reduces overhead because no need to copy over entire object, only address</li>
                      <li>If argument should not be modified, we add the <code>const</code> keyword. e.g. <code class="prettyprint">void fun (const int i){}</code></li>
                    </ul>
                  </li>
                </ol>
                e.g. <pre class="prettyprint">void getNumbers(int num1, int& num2) {
  num1 += num2;  // local copy of num1 is changed
  num2 += num1;  // original copy of num2 is changed
}</pre>

                <h3>Default Arguments</h3>
                Allows function call to omit some arguments.  Specify default value in parameter list of function declaration. e.g.<pre class="prettyprint">void showVolume(int length, int width = 1, int height = 1);
showVolume(1, 2, 3);  // all arguments provided
showVolume(1, 2); // length, width provided. height defaulted to 1
showVolume(7); // length provided. width, height defaulted to 1</pre>

                <h2 id="7">Overloading</h2>
                C++ allows 2 or more different definitions to the same function name, but with different parameter lists (i.e. different number of parameters or parameters of different types). The compiler decides which function to call based on the signature of the function call.
                <h3>Overloading Resolution</h3>
                <ol>
                  <li>First looks for exact signature - no argument conversion required</li>
                  <li>Then looks for compatible signatures - where automatic type conversion is possible in the following order:
                    <ol type="i">
                      <li>
                        Promotion (e.g. <code>int</code> to <code>double</code>) - no loss of data
                      </li>
                      <li>
                        Demotion (e.g. <code>double</code> to <code>int</code>) - possible loss of data
                      </li>
                    </ol>
                  </li>
                </ol>

                <h2 id="8">Assert Macro</h2>
                An <b>assertion</b> is a true or false statement used in debugging and testing programs.  It is used to check correctness of provided arguments.  It does not have a return value and terminates the program if the assert condition is false so that the error can be investigated.  Defined in the <code>&lt;cassert></code> library. <br />
                Syntax: <code class="prettyprint">assert (Assert_Condition);</code>
                <br />
                To turn assertions off, add <code class="prettyprint">#define NDEBUG</code> before the include statements.  To turn it back on, remove or comment out that line. e.g.<pre class="prettyprint">#define NDEBUG
#include &lt;cassert>
void getAge(int age){
  assert (age >= 0); // program terminates if age is negative
}</pre>

              </div>
            </div>
        </div>
        <footer class="footer">
          <a href="#top">Back to Top</a>
          <p id="last_modified"></p>
        </footer>
      </div>
      <!-- /#page-content-wrapper -->

    </div>
    <!-- /#wrapper -->

    <!-- jQuery -->
    <script src="../../js/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="../../js/bootstrap.min.js"></script>

    <!-- JS Script -->
    <script src="../../js/scripts.js"></script>

  </body>
</html>
